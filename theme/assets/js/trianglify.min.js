/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/trianglify@4.0.0/dist/trianglify.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var Delaunator=_interopDefault(require("delaunator")),chroma=_interopDefault(require("chroma-js")),canvas=require("canvas"),colorbrewer={YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]};function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function getScalingRatio(e){const t=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return("undefined"!=typeof window&&window.devicePixelRatio||1)/t}const isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,doc=isBrowser&&document,sDOM=(e,t={},o)=>{const r=doc.createElementNS("http://www.w3.org/2000/svg",e);return Object.keys(t).forEach((e=>void 0!==t[e]&&r.setAttribute(e,t[e]))),o&&o.forEach((e=>r.appendChild(e))),r},serializeAttrs=e=>Object.entries(e).filter((([e,t])=>void 0!==t)).map((([e,t])=>`${e}='${t}'`)).join(" "),sNode=(e,t={},o)=>({tagName:e,attrs:t,children:o,toString:()=>`<${e} ${serializeAttrs(t)}>${o?o.join(""):""}</${e}>`});class Pattern{constructor(e,t,o){_defineProperty(this,"_toSVG",((e,t,o={})=>{const r=e,a={includeNamespace:!0,coordinateDecimals:1,...o},{points:f,opts:c,polys:i}=this,{width:d,height:n}=c,l=a.coordinateDecimals<0?f:f.map((e=>e.map((e=>+e.toFixed(a.coordinateDecimals))))),s=i.map((e=>{const t="M"+e.vertexIndices.map((e=>`${l[e][0]},${l[e][1]}`)).join("L")+"Z",o=c.strokeWidth>0;return r("path",{d:t,fill:c.fill?e.color.css():void 0,stroke:o?e.color.css():void 0,"stroke-width":o?c.strokeWidth:void 0,"stroke-linejoin":o?"round":void 0,"shape-rendering":c.fill?"crispEdges":void 0})}));return r("svg",{xmlns:a.includeNamespace?"http://www.w3.org/2000/svg":void 0,width:d,height:n},s)})),_defineProperty(this,"toSVGTree",(e=>this._toSVG(sNode,null,e))),_defineProperty(this,"toSVG",isBrowser?(e,t)=>this._toSVG(sDOM,e,t):(e,t)=>this.toSVGTree(t)),_defineProperty(this,"toCanvas",((e,t={})=>{const o={...{scaling:!!isBrowser&&"auto",applyCssScaling:!!isBrowser},...t},{points:r,polys:a,opts:f}=this,c=e||canvas.createCanvas(f.width,f.height),i=c.getContext("2d");if(o.scaling){const e="auto"===o.scaling?getScalingRatio(i):o.scaling;1!==e?(c.width=f.width*e,c.height=f.height*e,o.applyCssScaling&&(c.style.width=f.width+"px",c.style.height=f.height+"px")):(c.width=f.width,c.height=f.height,o.applyCssScaling&&(c.style.width="",c.style.height="")),i.scale(e,e)}const d=(e,t,o)=>{const a=e.vertexIndices;i.lineJoin="round",i.beginPath(),i.moveTo(r[a[0]][0],r[a[0]][1]),i.lineTo(r[a[1]][0],r[a[1]][1]),i.lineTo(r[a[2]][0],r[a[2]][1]),i.closePath(),t&&(i.fillStyle=t.color.css(),i.fill()),o&&(i.strokeStyle=o.color.css(),i.lineWidth=o.width,i.stroke())};return f.fill&&f.strokeWidth<1&&a.forEach((e=>d(e,null,{color:e.color,width:2}))),a.forEach((e=>d(e,f.fill&&{color:e.color},f.strokeWidth>0&&{color:e.color,width:f.strokeWidth}))),c})),this.points=e,this.polys=t,this.opts=o}}function mulberry32(e){e||(e=Math.random().toString(36));var t=xmur3(e)();return function(){t=(t|=0)+1831565813|0;var e=Math.imul(t^t>>>15,1|t);return(((e=e+Math.imul(e^e>>>7,61|e)^e)^e>>>14)>>>0)/4294967296}}function xmur3(e){for(var t=0,o=1779033703^e.length;t<e.length;t++)o=(o=Math.imul(o^e.charCodeAt(t),3432918353))<<13|o>>>19;return function(){return o=Math.imul(o^o>>>16,2246822507),o=Math.imul(o^o>>>13,3266489909),(o^=o>>>16)>>>0}}const getCentroid=e=>({x:(e[0][0]+e[1][0]+e[2][0])/3,y:(e[0][1]+e[1][1]+e[2][1])/3}),interpolateLinear=(e=.5)=>({xPercent:t,yPercent:o,xScale:r,yScale:a,opts:f})=>chroma.mix(r(t),a(o),e,f.colorSpace),sparkle=(e=.15)=>({xPercent:t,yPercent:o,xScale:r,yScale:a,opts:f,random:c})=>{const i=()=>(c()-.5)*e,d=r(t+i()),n=a(o+i());return chroma.mix(d,n,.5,f.colorSpace)},shadows=(e=.8)=>({xPercent:t,yPercent:o,xScale:r,yScale:a,opts:f,random:c})=>{const i=r(t),d=a(o);return chroma.mix(i,d,.5,f.colorSpace).darken(e*c())};var colorFunctions=Object.freeze({__proto__:null,interpolateLinear:interpolateLinear,sparkle:sparkle,shadows:shadows});const defaultOptions={width:600,height:400,cellSize:75,variance:.75,seed:null,xColors:"random",yColors:"match",palette:colorbrewer,colorSpace:"lab",colorFunction:interpolateLinear(.5),fill:!0,strokeWidth:0,points:null};function trianglify(e={}){Object.keys(e).forEach((e=>{if(void 0===defaultOptions[e])throw TypeError(`Unrecognized option: ${e}`)}));const t={...defaultOptions,...e};if(!(t.height>0))throw TypeError(`invalid height: ${t.height}`);if(!(t.width>0))throw TypeError(`invalid width: ${t.width}`);const o=mulberry32(t.seed),r=e=>{switch(!0){case Array.isArray(e):return e;case!!t.palette[e]:return t.palette[e];case"random"===e:return(()=>{if(t.palette instanceof Array)return t.palette[Math.floor(o()*t.palette.length)];const e=Object.keys(t.palette);return t.palette[e[Math.floor(o()*e.length)]]})();default:throw TypeError(`Unrecognized color option: ${e}`)}},a=r(t.xColors),f="match"===t.yColors?a:r(t.yColors),c=chroma.scale(a).mode(t.colorSpace),i=chroma.scale(f).mode(t.colorSpace),d=t.points||getPoints(t,o);var n=Delaunator.from(d).triangles;const l=mulberry32(t.seed?t.seed+42:null),s=[];for(let e=0;e<n.length;e+=3){const o=[n[e],n[e+1],n[e+2]],r=o.map((e=>d[e])),{width:a,height:f}=t,h=e=>Math.max(0,Math.min(1,e)),u={x:((b=r)[0][0]+b[1][0]+b[2][0])/3,y:(b[0][1]+b[1][1]+b[2][1])/3},p=h(u.x/a),g=h(u.y/f),m=t.colorFunction({centroid:u,xPercent:p,yPercent:g,vertexIndices:o,vertices:r,xScale:c,yScale:i,points:d,opts:t,random:l});s.push({vertexIndices:o,centroid:u,color:m})}var b;return new Pattern(d,s,t)}const getPoints=(e,t)=>{const{width:o,height:r,cellSize:a,variance:f}=e,c=Math.floor(o/a)+4,i=Math.floor(r/a)+4,d=(c*a-o)/2,n=(i*a-r)/2,l=a*f,s=()=>(t()-.5)*l,b=a/2;return Array(c*i).fill(null).map(((e,t)=>{const o=t%c,r=Math.floor(t/c);return[o*a-d+b+s(),r*a-n+b+s()]}))};trianglify.utils={mix:chroma.mix,colorbrewer:colorbrewer},trianglify.colorFunctions=colorFunctions,trianglify.Pattern=Pattern,trianglify.defaultOptions=defaultOptions,module.exports=trianglify;
//# sourceMappingURL=/sm/20ef05f8f770ff6754e3e4955f45f4ef742f26690f94c5549b4dbda1ef7d16c3.map